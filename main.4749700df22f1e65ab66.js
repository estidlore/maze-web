"use strict";(self.webpackChunkmaze_web=self.webpackChunkmaze_web||[]).push([[179],{744:(e,t,n)=>{n.r(t)},991:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function l(e){try{u(r.next(e))}catch(e){a(e)}}function o(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,a,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(l=0)),l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=l.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var u=n(677),s=a(n(294)),c=n(900),f=n(734),h=n(285),d={large:{cells:2500,delay:0},medium:{cells:500,delay:50},small:{cells:100,delay:200}};t.App=function(){var e=(0,s.useRef)(null),t=(0,h.useWindowSize)(),n=(0,s.useMemo)((function(){return{h:.9*t.h,w:.9*t.w}}),[t]),r=(0,s.useState)("large"),i=r[0],a=r[1],v=(0,s.useCallback)((function(e){a(e.target.value)}),[]);return(0,s.useEffect)((function(){var t=e.current;if(null!==t){var r=d[i],a=Math.sqrt(r.cells/(n.w*n.h)),u={h:Math.round(a*n.h),w:Math.round(a*n.w)},s=new f.MazeGenerator(u),h=new c.MazeDrawer(s.maze,t),v=!1;return l(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return!s.nextStep()||v?[3,2]:(h.draw(),s.edges.forEach((function(e){h.fillCell(e,"gray")})),[4,new Promise((function(e){return setTimeout(e,r.delay)}))]);case 1:return e.sent(),[3,0];case 2:return[2]}}))})),function(){v=!0}}}),[n,e.current,i]),s.default.createElement("div",{className:"bg-gray-900 min-h-screen text-gray-100"},s.default.createElement("div",{className:"flex flex-col items-center justify-center py-6"},s.default.createElement("p",{className:"font-bold mb-4 text-3xl"},"Maze generation"),s.default.createElement("select",{className:"bg-gray-900 border-2 border-gray-100 px-2 py-1 rounded",onChange:v,value:i},u.obj.keys(d).map((function(e){return s.default.createElement("option",{key:e},e)}))),s.default.createElement("canvas",{className:"my-2",height:n.h,id:"maze-canvas",ref:e,width:n.w})))}},758:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(294)),a=n(745),l=n(991);n(744);var o=document.getElementById("root");(0,a.createRoot)(null!=o?o:document.body).render(i.default.createElement(l.App,null))},921:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.directions=void 0;t.directions=["down","left","right","up"]},900:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MazeDrawer=void 0;var n=function(e,t){var n=this;this.draw=function(){var e=n,t=e.canvas,r=e.ctx,i=e.drawWall;r.beginPath(),r.fillRect(0,0,t.width,t.height),r.stroke();for(var a=0,l=n.maze.getWalls();a<l.length;a++){var o=l[a];i(o[0],o[1])}},this.drawWall=function(e,t){var r=n.ctx,i=n.getCellSize();r.beginPath(),r.moveTo(e.x*i.w,e.y*i.h),r.lineTo(t.x*i.w,t.y*i.h),r.stroke()},this.fillCell=function(e,t){var r=e.x,i=e.y,a=n.ctx,l=a.fillStyle,o=n.getCellSize(),u=Math.ceil(a.lineWidth/2);a.fillStyle=t,a.beginPath(),a.fillRect(r*o.w+u,i*o.h+u,o.w-2*u,o.h-2*u),a.stroke(),a.fillStyle=l},this.getCellSize=function(){var e=n.canvas,t=n.maze.getSize();return{h:e.height/t.h,w:e.width/t.w}},this.canvas=t,this.maze=e;var r=this.canvas.getContext("2d");if(null===r)throw Error("2d canvas context is null");this.ctx=r;var i=this.getCellSize();r.lineCap="round",r.lineWidth=2*Math.ceil(Math.min(i.w,i.h)/20),r.fillStyle="black",r.strokeStyle="white"};t.MazeDrawer=n},734:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MazeGenerator=void 0;var r=n(921),i=n(110),a={down:"up",left:"right",right:"left",up:"down"},l={down:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},up:{x:0,y:-1}},o=function(e,t){var n=l[t];return{x:e.x+n.x,y:e.y+n.y}},u=function(e){return Math.floor(Math.random()*e)},s=function(e){var t=this;this.isComplete=function(){return 0===t.edges.length},this.nextStep=function(){if(t.isComplete())return!1;var e=t.maze.cells,n=t.spawn(),r=t.visits[n.x][n.y].mazeSides,i=r[u(r.length)];e[n.x][n.y][i]=!1;var l=o(n,i);return e[l.x][l.y][a[i]]=!1,!0},this.spawn=function(){var e=t,n=e.edges,i=e.visits,l=t.maze.getSize(),s=l.h,c=l.w,f=u(n.length),h=n[f];return i[h.x][h.y].visited=!0,n[f]=n[n.length-1],n.pop(),r.directions.forEach((function(e){var t=o(h,e);if(!(t.x<0||t.x>=c||t.y<0||t.y>=s)){var r=i[t.x][t.y];if(!r.visited){var l=r.mazeSides;0===l.length&&n.push(t),l.push(a[e])}}})),h};for(var n=new Array(e.w),l=new Array(e.w),s=0;s<e.w;s++){for(var c=new Array(e.h),f=new Array(e.h),h=0;h<e.h;h++)c[h]={down:!0,left:!0,right:!0,up:!0},f[h]={mazeSides:[],visited:!1};n[s]=c,l[s]=f}this.maze=new i.Maze(n),this.start={x:u(e.w),y:u(e.h)},this.edges=[this.start],this.visits=l,this.spawn()};t.MazeGenerator=s},285:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useWindowSize=void 0;var r=n(294),i=function(){return{h:window.innerHeight,w:window.innerWidth}};t.useWindowSize=function(){var e=(0,r.useState)(i()),t=e[0],n=e[1],a=(0,r.useCallback)((function(){n(i())}),[]);return(0,r.useEffect)((function(){return window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}}),[]),t}},110:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Maze=void 0;var n=function(e){var t=this;this.getWalls=function(){for(var e=t.cells,n=t.getSize(),r=n.h,i=n.w,a=[[{x:0,y:r},{x:i,y:r}],[{x:0,y:0},{x:0,y:r}],[{x:i,y:0},{x:i,y:r}],[{x:0,y:0},{x:i,y:0}]],l=1;l<i;l++)for(var o=!1,u=0;u<r;u++){var s=e[l][u].left;s&&(o?a[a.length-1][1].y=u+1:a.push([{x:l,y:u},{x:l,y:u+1}])),o=s}for(u=1;u<r;u++){var c=!1;for(l=0;l<i;l++){var f=e[l][u].up;f&&(c?a[a.length-1][1].x=l+1:a.push([{x:l,y:u},{x:l+1,y:u}])),c=f}}return a},this.getSize=function(){return{h:t.cells[0].length,w:t.cells.length}},this.cells=e};t.Maze=n}},e=>{e.O(0,[216],(()=>{return t=758,e(e.s=t);var t}));e.O()}]);